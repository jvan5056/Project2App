const Course = require('../models/course')

// let getAll = (req, res) =>{
//     res.render('/views/courses', {
//         course: courses.getAll()
//     })
// }



let newCourse = (req,res) => {
    console.log('newCourse function ran!')
    res.render('newCourse')
}

let createCourse = (req, res) =>{
    console.log('createCourse function ran')
    let newCourse = new Course(req.body)
    newCourse.save(() => console.log('New course was saved'))
    res.redirect('/classroom')
}

//show each course
//how do I async an arrow function?
let index = async (req, res) =>{
    console.log('Our index function ran.')

    let allCourses = await Course.find({})
    console.log(allCourses)
   
    res.render('index', {allCourses})
}

// let updateTodo = (req,res) => {
//     todoDb.updateTodos(req.params.index)
//     res.redirect('/todos')
// }

// let deleteTodo = (req,res) => {
//     todoDb.deleteTodos(req.params.index)
//     res.redirect('/todos')
// }

module.exports = {
    newCourse,
    createCourse,
    index
    //updateCourse,
    // deleteCourse
}
